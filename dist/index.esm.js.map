{"version":3,"file":"index.esm.js","sources":["../src/fields/InputCheckbox.tsx","../src/fields/InputEmail.tsx","../src/fields/InputPassword.tsx","../src/Helpers.ts","../src/fields/InputSelect.tsx","../src/fields/InputText.tsx","../src/fields/InputTextarea.tsx","../src/FormFields.tsx","../src/FormHeading.tsx","../src/FormButtonSubmit.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/MagicFormGenerator.tsx"],"sourcesContent":["// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext } from 'react-hook-form';\nimport { FieldBase, FieldValidation } from '../types';\n\n// Import custom\n\nexport const InputCheckbox: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  // const [invalid, setInvalid] = useState<boolean>(true);\n\n  const { register, errors, setValue, trigger } = useFormContext(); // retrieve all hook methods\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [checkboxValue, setCheckboxValue] = useState<boolean>(false);\n\n  // Build Validation Object\n  useEffect(() => {\n    // Copy reference props\n    const rawValidation = props.validation;\n\n    // Add regex for validate email pattern\n    setValidation(rawValidation);\n  }, []);\n\n  const handleCheckboxValue = () => {\n    // console.log('!checkboxValue', !checkboxValue);\n    setValue(props.name, !checkboxValue);\n\n    setCheckboxValue(!checkboxValue);\n    trigger();\n  };\n\n  return (\n    <>\n      <div className=\"fg__checkbox-wrapper\">\n        <input\n          id={props.id}\n          type=\"checkbox\"\n          className={\n            'form-control ' + (errors[props.name] ? 'is-invalid ' : ' ')\n          }\n          name={props.name}\n          checked={checkboxValue}\n          onChange={(_value: any) => {\n            // console.log('Checkbox onChange value:', value);\n          }}\n          autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n          ref={register(validation)}\n        />\n        <span className=\"checkmark\" onClick={handleCheckboxValue}></span>\n        <div\n          className=\"fg__checkbox-text\"\n          dangerouslySetInnerHTML={{ __html: props.placeholder as string }}\n        />\n      </div>\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'required' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Il campo è richiesto</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// validationMessage\nexport default InputCheckbox;\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext } from 'react-hook-form';\n\n// Import custom\nimport { FieldBase, FieldValidation, ValidationValueMessage } from '../types';\n\n// Ract.FC<InputEmailProps>\nexport const InputEmail: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  // const [invalid, setInvalid] = useState<boolean>(true);\n\n  const { register, errors, watch, setError, clearErrors } = useFormContext(); // retrieve all hook methods\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [minLength, setMinLength] = useState<number>(0);\n  const [maxLength, setMaxLength] = useState<number>(0);\n\n  // Build Validation Object\n  useEffect(() => {\n    // Copy reference props\n    const rawValidation = props.validation;\n\n    // If exists set minLength state for error message\n    if (props.validation.minLength) {\n      if ((props.validation.minLength as ValidationValueMessage).value) {\n        setMinLength(\n          parseInt(\n            (props.validation.minLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMinLength(parseInt(props.validation.minLength as string));\n      }\n    }\n\n    // If exists set maxLength state for error message\n    if (props.validation.maxLength) {\n      if ((props.validation.maxLength as ValidationValueMessage).value) {\n        setMaxLength(\n          parseInt(\n            (props.validation.maxLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMaxLength(parseInt(props.validation.maxLength as string));\n      }\n    }\n\n    // Normalize equalTo validation with validate method\n    if (\n      props.validation.equalTo !== undefined &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      const equalToField = (props.validation.equalTo as ValidationValueMessage)\n        .value as string;\n      rawValidation.validate = (value: string) => value === watch(equalToField);\n    }\n\n    // Add regex for validate email pattern\n    setValidation({\n      ...rawValidation,\n      pattern: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n    });\n  }, []);\n\n  // Update error object message for equalTo\n  useEffect(() => {\n    // console.log('useEFfect errors: ', errors);\n    if (\n      errors[props.name]?.type == 'validate' &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      // console.log('useEFfect errors: ', errors);\n      setError('repeatEmail', {\n        type: 'equalTo',\n        message: 'I due indirizzi email devono coincidere',\n      });\n      clearErrors('validate');\n    }\n  }, [errors]);\n\n  return (\n    <>\n      <input\n        id={props.id}\n        type=\"email\"\n        className={'form-control ' + (errors[props.name] ? 'is-invalid ' : ' ')}\n        placeholder={props.placeholder}\n        name={props.name}\n        autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n        ref={register(validation)}\n      />\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'required' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Il campo email è richiesto</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'minLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza minima è {minLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'maxLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza massima è {maxLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'pattern' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Inserire un&aposindirizzo email valido</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'validate' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di validazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'equalTo' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>I due campi devono essere uguali</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// errors[props.name] && <span>Il campo è richiesto</span>\n\nexport default InputEmail;\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext, ValidationValueMessage } from 'react-hook-form';\n\n// Import custom\nimport { FieldBase, FieldValidation } from '../types';\n\nexport const InputPassword: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  // const [invalid, setInvalid] = useState<boolean>(true);\n\n  const { register, errors, watch } = useFormContext(); // retrieve all hook methods\n\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [minLength, setMinLength] = useState<number>(0);\n  const [maxLength, setMaxLength] = useState<number>(0);\n\n  // Build Validation Object\n  // TODO Fare un custom hook per uesta serie di operazioni?\n  useEffect(() => {\n    // Copy reference props\n    const rawValidation = props.validation;\n\n    // If exists set minLength state for error message\n    if (props.validation.minLength) {\n      if ((props.validation.minLength as ValidationValueMessage).value) {\n        setMinLength(\n          parseInt(\n            (props.validation.minLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMinLength(parseInt(props.validation.minLength as string));\n      }\n    }\n\n    // If exists set maxLength state for error  message\n    if (props.validation.maxLength) {\n      if ((props.validation.maxLength as ValidationValueMessage).value) {\n        setMaxLength(\n          parseInt(\n            (props.validation.maxLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMaxLength(parseInt(props.validation.maxLength as string));\n      }\n    }\n\n    // Normalize equalTo validation with validate method\n    if (\n      props.validation.equalTo !== undefined &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      const equalToField = (props.validation.equalTo as ValidationValueMessage)\n        .value as string;\n      rawValidation.validate = (value: string) => value === watch(equalToField);\n    }\n\n    // Add regex for validate email pattern\n    setValidation({\n      ...rawValidation,\n    });\n  }, []);\n\n  return (\n    <>\n      <input\n        id={props.id}\n        type=\"password\"\n        className={'form-control ' + (errors[props.name] ? 'is-invalid ' : ' ')}\n        placeholder={props.placeholder}\n        name={props.name}\n        autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n        ref={register(validation)}\n      />\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'required' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Il campo password è richiesto</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'minLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza minima è {minLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'maxLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza massima è {maxLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'pattern' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di formattazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'validate' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di validazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'equalTo' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>I due campi devono essere uguali</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// validationMessage\nexport default InputPassword;\n","import { FieldSelectData } from './types';\ninterface MessageDefault {\n  required: string;\n  minLength: string;\n  maxLength: string;\n  pattern: string;\n}\nexport const validationMessage: MessageDefault = {\n  required: 'Il campo {fieldName} è richiesto',\n  minLength: 'La lunghezza minima è {min} caratteri',\n  maxLength: 'La lunghezza massima è {max} caratteri',\n  pattern: 'Rispettare le regole di fomattazione',\n};\n\n// Get layout class by props\nexport const getLayoutValue = (layout: string): number => {\n  switch (layout) {\n    case '1':\n      return 1;\n    case '1/2':\n      return 0.5;\n    case '1/3':\n      return 0.33;\n    case '1/4':\n      return 0.25;\n    default:\n      return 1;\n  }\n};\n\nexport const getLayoutColClass = (layout: string): string => {\n  switch (layout) {\n    case '1':\n      return 'fg__col-full';\n    case '1/2':\n      return 'fg__col-half';\n    case '1/3':\n      return 'fg__col-third';\n    case '1/4':\n      return 'fg__col-fourth';\n    default:\n      return 'fg__col-full';\n  }\n};\n\n// Get default value from Select option list and return value\nexport const getSelectDefaultValue = (_data: FieldSelectData[]): string => {\n  return 'CO';\n};\n\ninterface Response {\n  status: boolean;\n  data: any;\n}\n\nexport const fetchData = async (url: string): Promise<Response> => {\n  const options: RequestInit = {};\n  try {\n    const response = await fetch(url, options);\n    const result = await response.json();\n    const res: Response = {\n      status: true,\n      data: result,\n    };\n    return res;\n  } catch (error) {\n    const response: Response = {\n      status: false,\n      data: [],\n    };\n    return response;\n  }\n};\n\nexport const onSubmitBackendCall = async (\n  url: string,\n  method: string,\n  data: any,\n): Promise<Response> => {\n  const getParams = new URLSearchParams(data);\n\n  let options: RequestInit = {};\n  if (method == 'GET') {\n    options = {\n      method: method,\n    };\n  } else {\n    options = {\n      method: method,\n      body: data,\n    };\n  }\n\n  try {\n    const response = await fetch(url + '?' + getParams, options);\n    const result = await response.json();\n    const res: Response = {\n      status: true,\n      data: result,\n    };\n    return res;\n  } catch (error) {\n    const response: Response = {\n      status: false,\n      data: [],\n    };\n    return response;\n  }\n};\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext } from 'react-hook-form';\n\n// Import custom\nimport {\n  FieldBase,\n  FieldSelectData,\n  FieldValidation,\n  ValidationValueMessage,\n} from '../types';\nimport { fetchData, getSelectDefaultValue } from '../Helpers';\n\nexport const InputSelect: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  // Get <Select> data\n\n  // Form core\n  const { register, errors } = useFormContext(); // retrieve all hook methods\n\n  // State\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [loading, setLoading] = useState<boolean>(true);\n  const [optionData, setOptionData] = useState<FieldSelectData[]>([]);\n  const [defaultValue, setDefaultValue] = useState<string>('');\n\n  useEffect(() => {\n    let flag = false;\n    // console.log('props.validation.required', props.validation.required);\n    if ((props.validation.required as ValidationValueMessage).value) {\n      flag = true;\n    }\n    if (props.validation.required === true) {\n      flag = true;\n    }\n    if (flag) {\n      // console.log('Here select Name: ', props.name);\n      setValidation({\n        validate: (value: string) => {\n          if (value) {\n            return true;\n          } else {\n            return false;\n          }\n        },\n      });\n    }\n  }, [props.validation]);\n\n  useEffect(() => {\n    // No data: infinite loading\n    if (props.data?.length === 0 && !props.fetchDataFromUrl) {\n      // console.warn('MagicFormGenerator: nessuna opzione fornita per il Select');\n      return;\n    }\n\n    // Static data\n    if (props.data && props.data?.length > 0 && !props.fetchDataFromUrl) {\n      setOptionData(props.data as FieldSelectData[]);\n      setLoading(false);\n      return;\n    }\n\n    // Fetch data from url\n    if (props.fetchDataFromUrl) {\n      const fetchEffectData = async () => {\n        const res = await fetchData(props.fetchDataFromUrl as string);\n        if (res.status) {\n          setOptionData(res.data as FieldSelectData[]);\n          setLoading(false);\n        }\n        return res;\n      };\n\n      fetchEffectData();\n    }\n\n    // NB: If both data and url are set. Merge arrays:\n\n    // Dynamic data with fetch\n    // NB:\n    setOptionData(props.data as FieldSelectData[]);\n    const getDefaultValue = getSelectDefaultValue(\n      props.data as FieldSelectData[],\n    );\n    // console.log('getDefaultValue', getDefaultValue);\n    setDefaultValue(getDefaultValue);\n  }, [props.data]);\n\n  return (\n    <>\n      <div className=\"fg__select-wrapper\">\n        <select\n          id={props.id}\n          className={\n            'form-control ' +\n            'fg__input-select ' +\n            (errors[props.name] ? 'is-invalid ' : ' ')\n          }\n          name={props.name}\n          ref={register(validation)}\n          autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n          disabled={loading}\n          defaultValue={defaultValue}\n        >\n          {props.placeholder ? (\n            <option value=\"\">{props.placeholder}</option>\n          ) : (\n            <></>\n          )}\n          {optionData.map((option: FieldSelectData, index: number) => {\n            return (\n              <option\n                key={index}\n                value={option.value}\n                disabled={option.disabled ? true : false}\n              >\n                {option.label}\n              </option>\n            );\n          })}\n        </select>\n        <div\n          className={\n            'loader ' + 'fg__input-select ' + (loading ? 'loader-active ' : ' ')\n          }\n        >\n          <span></span>\n        </div>\n      </div>\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'validate' ? (\n          <>\n            {(props?.validation?.required as ValidationValueMessage)\n              ?.message === '' ? (\n              <span>Selezionare un opzione</span>\n            ) : (\n              <span>\n                {\n                  (props?.validation?.required as ValidationValueMessage)\n                    ?.message\n                }\n              </span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// validationMessage\nexport default InputSelect;\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext } from 'react-hook-form';\n\n// Import custom\nimport { FieldBase, FieldValidation, ValidationValueMessage } from '../types';\n\nexport const InputText: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  // const [invalid, setInvalid] = useState<boolean>(true);\n\n  const { register, errors, watch, setError, clearErrors } = useFormContext(); // retrieve all hook methods\n\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [minLength, setMinLength] = useState<number>(0);\n  const [maxLength, setMaxLength] = useState<number>(0);\n\n  // Build Validation Object\n  useEffect(() => {\n    // Copy reference props\n    const rawValidation = props.validation;\n\n    // If exists set minLength state for error message\n    if (props.validation.minLength) {\n      if ((props.validation.minLength as ValidationValueMessage).value) {\n        setMinLength(\n          parseInt(\n            (props.validation.minLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMinLength(parseInt(props.validation.minLength as string));\n      }\n    }\n\n    // If exists set maxLength state for error message\n    if (props.validation.maxLength) {\n      if ((props.validation.maxLength as ValidationValueMessage).value) {\n        setMaxLength(\n          parseInt(\n            (props.validation.maxLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMaxLength(parseInt(props.validation.maxLength as string));\n      }\n    }\n\n    // Normalize equalTo validation with validate method\n    if (\n      props.validation.equalTo !== undefined &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      const equalToField = (props.validation.equalTo as ValidationValueMessage)\n        .value as string;\n      rawValidation.validate = (value: string) => value === watch(equalToField);\n    }\n\n    // Add regex for validate email pattern\n    setValidation(rawValidation);\n  }, []);\n\n  // Update error object message for equalTo\n  useEffect(() => {\n    if (\n      errors[props.name]?.type == 'validate' &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      setError('repeatEmail', {\n        type: 'equalTo',\n        message: 'I due indirizzi email devono coincidere',\n      });\n      clearErrors('validate');\n    }\n  }, [errors]);\n\n  return (\n    <>\n      <input\n        id={props.id}\n        type=\"text\"\n        className={'form-control ' + (errors[props.name] ? 'is-invalid ' : ' ')}\n        placeholder={props.placeholder}\n        name={props.name}\n        autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n        ref={register(validation)}\n      />\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'required' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Il campo è richiesto</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'minLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza minima è {minLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'maxLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza massima è {maxLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'pattern' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di formattazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'validate' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di validazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'equalTo' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>I due campi devono essere uguali</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// validationMessage\nexport default InputText;\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\nimport { useFormContext } from 'react-hook-form';\n\n// Import custom\nimport { FieldBase, FieldValidation, ValidationValueMessage } from '../types';\n\nexport const InputTextarea: React.FC<FieldBase> = (\n  props: FieldBase,\n): ReactElement => {\n  const { register, errors, watch, setError, clearErrors } = useFormContext(); // retrieve all hook methods\n  const [validation, setValidation] = useState<FieldValidation>({});\n  const [minLength, setMinLength] = useState<number>(0);\n  const [maxLength, setMaxLength] = useState<number>(0);\n\n  // Build Validation Object\n  useEffect(() => {\n    // Copy reference props\n    const rawValidation = props.validation;\n\n    // If exists set minLength state for error message\n    if (props.validation.minLength) {\n      if ((props.validation.minLength as ValidationValueMessage).value) {\n        setMinLength(\n          parseInt(\n            (props.validation.minLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMinLength(parseInt(props.validation.minLength as string));\n      }\n    }\n\n    // If exists set maxLength state for error message\n    if (props.validation.maxLength) {\n      if ((props.validation.maxLength as ValidationValueMessage).value) {\n        setMaxLength(\n          parseInt(\n            (props.validation.maxLength as ValidationValueMessage)\n              .value as string,\n          ),\n        );\n      } else {\n        setMaxLength(parseInt(props.validation.maxLength as string));\n      }\n    }\n\n    // Normalize equalTo validation with validate method\n    if (\n      props.validation.equalTo !== undefined &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      const equalToField = (props.validation.equalTo as ValidationValueMessage)\n        .value as string;\n      rawValidation.validate = (value: string) => value === watch(equalToField);\n    }\n\n    // Add regex for validate email pattern\n    setValidation(rawValidation);\n  }, []);\n\n  // Update error object message for equalTo\n  useEffect(() => {\n    if (\n      errors[props.name]?.type == 'validate' &&\n      (props.validation.equalTo as ValidationValueMessage).value\n    ) {\n      setError('repeatEmail', {\n        type: 'equalTo',\n        message: 'I due campi devono coincidere',\n      });\n      clearErrors('validate');\n    }\n  }, [errors]);\n\n  return (\n    <>\n      <textarea\n        id={props.id}\n        className={'form-control ' + (errors[props.name] ? 'is-invalid ' : ' ')}\n        placeholder={props.placeholder}\n        name={props.name}\n        autoComplete={props.autocomplete ? props.autocomplete : 'off'}\n        ref={register(validation)}\n      />\n      <div className=\"invalid-feedback\">\n        {errors[props.name]?.type == 'required' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Il campo è richiesto</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'minLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza minima è {minLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'maxLength' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>La lunghezza massima è {maxLength} caratteri</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'pattern' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di formattazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'validate' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>Rispettare le regole di validazione</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {errors[props.name]?.type == 'equalTo' ? (\n          <>\n            {errors[props.name]?.message === '' ? (\n              <span>I due campi devono essere uguali</span>\n            ) : (\n              <span>{errors[props.name]?.message}</span>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </div>\n    </>\n  );\n};\n\n// validationMessage\nexport default InputTextarea;\n","// Import core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Import third parts\n\n// Import custom\nimport InputCheckbox from './fields/InputCheckbox';\nimport InputEmail from './fields/InputEmail';\nimport InputPassword from './fields/InputPassword';\nimport InputSelect from './fields/InputSelect';\nimport InputText from './fields/InputText';\nimport InputTextarea from './fields/InputTextarea';\nimport { getLayoutColClass, getLayoutValue } from './Helpers';\nimport { Field, FormFieldsProps } from './types';\n\nexport const FormFields: React.FC<FormFieldsProps> = (\n  props: FormFieldsProps,\n): ReactElement => {\n  const { fields } = props;\n\n  const [rowFields, setRowFields] = useState<[Field[]] | null>(null);\n\n  useEffect(() => {\n    const row: any[] = [];\n    let val = 0;\n    let fieldsTemp: any[] = [];\n    fields.map((field: Field, index: number) => {\n      let fieldLayout = '';\n      if (!field.layout) {\n        fieldLayout = '1/2';\n      } else {\n        fieldLayout = field.layout;\n      }\n      const currentVal: number = getLayoutValue(fieldLayout);\n      val = val + currentVal;\n      fieldsTemp.push(field);\n      if (index > 0) {\n        const nextFieldVal: number = getLayoutValue(\n          fields[index - 1].layout as string,\n        );\n        if (val < 1 && val + nextFieldVal > 1) {\n          val = val + 1;\n        }\n      }\n      if (val >= 1) {\n        row.push(fieldsTemp);\n        fieldsTemp = [];\n        val = 0;\n      }\n      if (index === fields.length - 1) {\n        row.push(fieldsTemp);\n      }\n    });\n\n    setRowFields(row as [Field[]]);\n  }, []);\n\n  return (\n    <div className=\"fg__fields fg__body\">\n      {rowFields &&\n        rowFields.map(\n          (fields: Field[], index: number): ReactElement => {\n            return (\n              <div className=\"row\" key={index}>\n                {fields.map((field: Field, index: number) => {\n                  const colName = getLayoutColClass(field.layout as string);\n                  return (\n                    <div className={colName} key={index}>\n                      <div className=\"fg__fields-field\">\n                        <>\n                          {field.type == 'text' ? (\n                            <InputText\n                              name={field.name}\n                              id={field.id}\n                              placeholder={field.placeholder}\n                              validation={field.validation}\n                              autocomplete={field.autocomplete}\n                              label={field.label}\n                            />\n                          ) : (\n                            <></>\n                          )}\n                          {field.type == 'email' ? (\n                            <>\n                              <label>{field.label}</label>\n                              <InputEmail\n                                name={field.name}\n                                id={field.id}\n                                placeholder={field.placeholder}\n                                validation={field.validation}\n                                autocomplete={field.autocomplete}\n                              />\n                            </>\n                          ) : (\n                            <></>\n                          )}\n                          {field.type == 'password' ? (\n                            <>\n                              <label>{field.label}</label>\n                              <InputPassword\n                                name={field.name}\n                                id={field.id}\n                                placeholder={field.placeholder}\n                                validation={field.validation}\n                                autocomplete={field.autocomplete}\n                              />\n                            </>\n                          ) : (\n                            <></>\n                          )}\n                          {field.type == 'select' ? (\n                            <>\n                              <label>{field.label}</label>\n                              <InputSelect\n                                name={field.name}\n                                id={field.id}\n                                placeholder={field.placeholder}\n                                validation={field.validation}\n                                autocomplete={field.autocomplete}\n                                data={field.data}\n                                fetchDataFromUrl={field.fetchDataFromUrl}\n                              />\n                            </>\n                          ) : (\n                            <></>\n                          )}\n                          {field.type == 'textarea' ? (\n                            <>\n                              <label>{field.label}</label>\n                              <InputTextarea\n                                name={field.name}\n                                id={field.id}\n                                placeholder={field.placeholder}\n                                validation={field.validation}\n                                autocomplete={field.autocomplete}\n                              />\n                            </>\n                          ) : (\n                            <></>\n                          )}\n                          {field.type == 'checkbox' ? (\n                            <>\n                              <label>{field.label}</label>\n                              <InputCheckbox\n                                name={field.name}\n                                id={field.id}\n                                placeholder={field.placeholder}\n                                validation={field.validation}\n                                autocomplete={field.autocomplete}\n                              />\n                            </>\n                          ) : (\n                            <></>\n                          )}\n                        </>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            );\n          },\n        )}\n    </div>\n  );\n};\n","import React, { ReactElement } from 'react';\nimport { FormHeadingProps } from './types';\n\nexport const FormHeading: React.FC<FormHeadingProps> = (\n  props: FormHeadingProps,\n): ReactElement => {\n  const { title, subTitle } = props;\n\n  const newLine = (string: string): JSX.Element[] => {\n    if (!string) {\n      return [<></>];\n    }\n    const ret = string\n      .split('\\n')\n      .map((str: string, index: number) => <p key={index}>{str}</p>);\n    return ret;\n  };\n\n  if (title === '' && subTitle === '') {\n    return <></>;\n  }\n\n  if (title === '') {\n    return (\n      <div className=\"row\">\n        <h3 className=\"fg__subtitle\">{newLine(subTitle as string)}</h3>\n      </div>\n    );\n  }\n\n  if (subTitle === '') {\n    return (\n      <div className=\"row\">\n        <h3 className=\"fg__title\">{title}</h3>\n      </div>\n    );\n  }\n\n  return (\n    <header>\n      <h3 className=\"fg__title\">{title}</h3>\n      <p className=\"fg__subtitle\">{subTitle}</p>\n    </header>\n  );\n};\n\nexport default FormHeading;\n","// Core\nimport React, { ReactElement, useEffect, useState } from 'react';\n\n// Third packages\n// import { useForm, FormProvider, useFormContext } from \"react-hook-form\";\n\n// Custom package\nimport { getLayoutColClass } from './Helpers';\nimport { ButtonSubmit } from './types';\nconst FormButonSubmit: React.FC<ButtonSubmit> = (\n  props: ButtonSubmit,\n): ReactElement => {\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    setLoading(true);\n  }, [loading]);\n\n  const rowClass = getLayoutColClass(props?.layout ? props.layout : '1/4');\n  const btnText = props?.text ? props.text : 'Invia';\n  const btnClasses = 'fg__button-submit ' + props?.class ? props.class : ' ';\n  const btnId = props?.id ? props.id : '';\n\n  return (\n    <div className=\"row\">\n      <div className={rowClass}>\n        <div\n          className={\n            'fg__button-submit-wrapper ' + (loading ? 'with-loader ' : ' ')\n          }\n        >\n          {!props?.dom ? (\n            <input\n              type=\"submit\"\n              id={btnId}\n              className={btnClasses}\n              value={btnText}\n            />\n          ) : (\n            <></>\n          )}\n          {props?.dom && props.dom == 'input' ? (\n            <input\n              type=\"submit\"\n              id={btnId}\n              className={btnClasses}\n              value={btnText}\n            />\n          ) : (\n            <></>\n          )}\n          {props?.dom && props.dom == 'button' ? (\n            <button type=\"submit\" id={btnId} className={btnClasses}>\n              {btnText}\n            </button>\n          ) : (\n            <></>\n          )}\n          {props?.loading == false ? (\n            <></>\n          ) : (\n            <div className={'loader ' + (loading ? 'loader-active ' : ' ')}>\n              <span></span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormButonSubmit;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { ReactElement, useCallback } from 'react';\n\n// Third packages\nimport { useForm, FormProvider } from 'react-hook-form';\n\n// Custom packages\nimport { FormFields } from './FormFields';\nimport { FormHeading } from './FormHeading';\nimport FormButonSubmit from './FormButtonSubmit';\nimport { onSubmitBackendCall } from './Helpers';\n\n// Import styles - With rollup add this as external in package.json\nimport './scss/styles.scss';\nimport { MagicFormGeneratorProps } from './types';\n\nexport const MagicFormGenerator: React.FC<MagicFormGeneratorProps> = (\n  props: MagicFormGeneratorProps,\n): ReactElement => {\n  const { form } = props;\n  const { submit, buttonSubmit } = form;\n\n  // const [loading, setLoading] = useState<boolean>(false);\n\n  const methods = useForm();\n\n  // NB: Visto che la callback del form è sempre uguale posso memorizzarla\n  const handleSubmit = useCallback(async (data: any) => {\n    // If callbck exists edit data in callback\n    const dataBeforeSubmit = submit.onSubmit ? submit.onSubmit(data) : data;\n\n    // If submitbackend is enabled send ajax data\n    if (submit.backend) {\n      // const res =\n      await onSubmitBackendCall(\n        submit.endpoint,\n        submit.method,\n        dataBeforeSubmit,\n      );\n    }\n  }, []);\n\n  return (\n    <FormProvider {...methods}>\n      <div id=\"MagicFormGenerator\">\n        <form onSubmit={methods.handleSubmit(handleSubmit)} noValidate>\n          <FormHeading title={form.title} subTitle={form.subTitle} />\n          <FormFields fields={form.fields} />\n          <FormButonSubmit {...buttonSubmit} />\n        </form>\n      </div>\n    </FormProvider>\n  );\n};\n\nexport default MagicFormGenerator;\n"],"names":[],"mappings":"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"}